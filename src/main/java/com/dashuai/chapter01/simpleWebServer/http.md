# Web 服务基于 HTTP 协议通信
注意：HTTP 通常被译为超文本传输协议，但这种译法并不严谨。严谨的译名应该 为“超文本转移协议”。但是前一译法已约定俗成。

## 1. 使用 HTTP 协议访问 web 服务
浏览 http://index.html Web 页面，在浏览器地址栏内输入 URL 之后，信息会被送往 Web 服务器，然后从服务器获得回复，回复内容就会显示在 Web 页面上。
1. 客户端通过dns协议，在获取了服务器的真实 ip 地址后，HTTP 协议就生成针对目标 Web 服务器的 HTTP 请求报文
2. 客户端的 TCP 协议为了方便通信，将 HTTP 请求报文分割成报文段（按序号），把报文段可靠地传给对方
3. IP 协议负责搜索对方的 ip 地址，一边中转一边传送到服务器
4. 到了服务端，TCP 协议再把从客户端那里接收到的报文段重组（按序号以原来的顺序）
5. 服务器负责解析请求并计算响应内容。
6. HTTP 协议继续对响应的内容进行处理，生成 HTTP 响应报文给客户端
……

整个过程依靠的是著名的 TCP/IP 协议栈，一般情况，总是客户端主动联系HTTP服务端。即，服务器不负责连接客户端，或创建一个到客户端的回调。（参见：HTTP协议规范）

## 2. 请求报文格式
HTTP 报文本身是由多行(用 CR+LF 作换行符，CR=Carriage Return，回车符:16进制 0x0d 和 LF=Line Feed，换行符:16进制 0x0a)数据构成的字符串文本，大致可分为报文首部和报文主体两块。通常，并不一定要有报文主体。
![](/Users/wangyishuai/eclipse-workspace/Tomcat_Study/Tomcat_Study/src/main/resources/image/study/http请求和响应结构.png)